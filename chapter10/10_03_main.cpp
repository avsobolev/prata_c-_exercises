/* 10_03_main.cpp
    Занятия по книге Стивена Прата "Язык программирования С++" (2012, 6-е издание).
    Упражнения по программированию. Глава 10, страница 532, упражнение 3

    Выполните упражнение 1 из главы 9, но замените показанный там код 
    подходящим объявлением класса golf. Замените setgolf (golf &, const chart *, int)
    конструктором с соответствующими аргументами для выполнения 
    инициализации. Оставьте интерактивную версию setgolf (), но реализуйте ее с 
    использованием этого конструктора. (Например, в коде setgolf () получите данные,
    передайте их конструктору для создания временного объекта и присвойте 
    временный объект вызвавшему, представленному через *this.)

    -----------------------
    УПРАЖНЕНИЕ 1 ИЗ ГЛАВЫ 9
    -----------------------
    Имеется следующий заголовочный файл:
    // golf.h — для ре9-1.срр
    const int Len = 4O; 
    struct golf
    {
        char fullname[Len];
        int handicap;
    };
        
    // Неинтерактивная версия:
    // функция присваивает структуре.типа golf имя игрока и его гандикап (фору),
    // используя передаваемые ей аргументы
    void setgolf (golf & g, const char * name, int he);
    
    // Интерактивная версия:
    // функция предлагает пользователю ввести имя и гандикап,
    // присваивает элементам структуры g введенные значения;
    // возвращает 1, если введено имя, и 0, если введена пустая строка
    int setgolf(golf & g) ;
    
    // Функция устанавливает новое значение гандикапа
    void handicap (golf & g, int he);
    
    // Функция отображает содержимое структуры типа golf
    void showgolf (const golf & g) ;
    
    Обратите внимание, что функция setgolf () перегружена. Вызов первой 
    версии функции имеет следующий вид:
    golf ann
    setgolf(ann, "Ann Birdfree", 24);
    
    Функция предоставляет информацию, которая содержится в структуре ann.
    Вызов второй версии функции имеет следующий вид:
    golf andy
    setgolf(andy);
    
    Функция предлагает пользователю ввести имя и гандикап, а затем сохраняет эти
    данные в структуре andy. Эта функция могла бы (но не обязательно) внутренне
    использовать первую версию.
    
    Постройте многофайловую программу на основе этого заголовочного файла.
    Один файл по имени golf, epp должен содержать определения функций, 
    которые соответствуют прототипам заголовочного файла. Второй файл должен 
    содержать функцию main () и обеспечивать реализацию всех средств прототипи-
    рованных функций. Например, цикл должен запрашивать ввод массива структур
    типа golf и прекращать ввод после заполнения массива, либо когда вместо 
    имени игрока в гольф пользователь вводит пустую строку. Чтобы получить доступ к
    структурам типа golf, функция main () должна использовать только прототипи-
    рованные функции.
*/

#include <iostream>
#include "10_03_golf.h"

int main(){
    
    Golf g1;
    g1.showgolf();
    
    g1 = Golf("name1", 11);
    g1.showgolf();

    g1.sethandicap(15);
    g1.showgolf();

    int NumPlayers = 5;
    int count = 0;
    int res = 0;
    Golf g[NumPlayers];

    for (int i = 0; i < NumPlayers; i++)
    {
        if (!g[i].setgolf()) {
            break; 
        }
        count ++;
    }
    
    for (int i = 0; i < count; i++)
    {
        std::cout << "Player data №" << i+1 << ": ";
        g[i].showgolf(); 
    }

    return 0;
} // int main()
